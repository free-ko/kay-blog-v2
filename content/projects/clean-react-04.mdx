---
title: 'Clean React 04 - Rendering'
date: '2024-09-09 07:25:00'
description: Renderingì— ëŒ€í•´ ìì„¸íˆ ì•Œì•„ë³´ì.
published: true
---

# 1. JSXì—ì„œì˜ ê³µë°± ì²˜ë¦¬

```tsx
// âŒ
export default function App() {
  return (
    <div>
      Welcome Clean Code&nbsp;
      <a href='clean-code-js'>Go Clean Code</a>
    </div>
  );
}

// âœ…
export default function App() {
  return (
    <div>
      Welcome Clean Code <a href='clean-code-js'>Go Clean Code</a>
    </div>
  );
}
```

- JSXì—ì„œ ê³µë°± ì²˜ë¦¬ëŠ” ê°€ë…ì„±ê³¼ ìœ ì§€ë³´ìˆ˜ì„±ì„ ìœ„í•´ ì¤‘ìš”í•œë°, `&nbsp;` ê°™ì€ HTML ì—”í„°í‹°ëŠ” ë³µì¡ì„±ì„ ì¦ê°€ì‹œí‚´.
- ëŒ€ì‹  ë¬¸ìì—´ ì‚¬ì´ì— ìì—°ìŠ¤ëŸ½ê²Œ ê³µë°±ì„ ë„£ëŠ” ê²ƒì´ ë” ë‚˜ì€ ë°©ì‹.
- ë§Œì•½ ì—¬ëŸ¬ ì¤„ì— ê±¸ì¹œ í…ìŠ¤íŠ¸ì—ì„œ ê³µë°±ì„ ì¡°ì •í•´ì•¼ í•œë‹¤ë©´, CSSë¡œ `margin`ì´ë‚˜ `padding`ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒë„ í•˜ë‚˜ì˜ ë°©ë²•

<br />
<br />

# 2.Â '0'ê°’ì€ JSXì—ì„œ ìœ íš¨í•œ ê°’

---

### ğŸŒˆÂ ê²°ë¡ 

```tsx
export default function App() {
	const [items, setItems] = useState([]);

	// âŒ
  // ë§Œì•½ item.lengthê°€ 0ì´ë©´ ì•„ë˜ 0 ì¶œë ¥ë¨
	return (
		<div>
			{item.length && item.map((item) => {
				return <Item item={item} />;
			})
		</div>
	)

	// âœ…
	return (
		<div>
			{item.length === 0 && item.map((item) => {
				return <Item item={item} />;
			})
		</div>
	)
}
```

- `&&` ì—°ì‚°ìëŠ” ì²« ë²ˆì§¸ ê°’ì´ `ì°¸`ì¼ ë•Œë§Œ ë‘ ë²ˆì§¸ ê°’ì„ ì‹¤í–‰í•¨
- ë§Œì•½ `ê±°ì§“`ì´ë©´ ì²« ë²ˆì§¸ ê°’ì´ ì¶œë ¥ ë¨

### âœï¸Â ë‚´ìš©

- ì°¸ê³¼ ê±°ì§“ìœ¼ë¡œ íŒë‹¨í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼, `ë Œë”ë§ ìœ ë¬´`ë¡œ íŒë‹¨.
- JSXì—ì„œëŠ” ì–´ë–¤ ê°’ì€ ìœ íš¨í•œ ê°’ì¸ì§€, ë Œë”ë§ í•˜ëŠ” ê°’ì¸ì§€ í™•ì¸.
- ë Œë”ë§ì„ ì¡°ê±´ë¶€ë¡œ í•  ë•Œì—ëŠ” ëª…í™•í•œ ì¡°ê±´ í•„ìš”.

### â­ï¸ ìš”ì•½

- JSXì—ì„œ ë Œë”ë§ë˜ëŠ” ê°’ê³¼ ì•„ë‹Œ ê°’ì„ êµ¬ë¶„í•˜ì

<br />
<br />

# 3.Â List ë‚´ë¶€ì—ì„œ Key

---

### ğŸŒˆÂ ê²°ë¡ 

```tsx
export default function App({ list }) {
	const handleAddItem = (value) => {
		setItems((prev) => [
			...prev,
			{
				id: crypto.randomUUID(),
				value
			},
		]);
	}

	useEffect(() => {
		// listë§Œë“¤ ë•Œ! ê¼­ IDë¥¼ ë¶€ì—¬í•˜ì
		// í˜¹ì€ ìƒˆë¡œìš´ ì•„ì´í…œì„ ì¶”ê°€í•˜ëŠ” í•¨ìˆ˜ë¥¾ ë§Œë“¤ ë•Œ ê·¸ ë•Œ ê³ ìœ í•œ ê°’ì„ ë„£ì–´ì£¼ì!
	}, [])

	// âŒ
	return (
		<ul>
			{list.map((item) => {
				return <li>{item}</li>;
			})
		</div>
	)

	// âŒ
	return (
		<ul>
			{list.map((item, index) => {
				return <li key={index}>{item}</li>;
			})
		</div>
	)

	// ğŸ¤”
	return (
		<ul>
			{list.map((item, index) => {
				return <li key={'card-item-' + index}>{item}</li>;
			})
		</div>
	)

	// âŒ
	// - state, propsì— ë”°ë¼ ë Œë”ë§ì´ ë  ë•Œë§ˆë‹¤ keyê°€ ë§Œë“¤ì–´ì§
	// - ê·¸ë˜ì„œ ìœ íš¨í•œ ê°’ì´ ì•„ë‹˜
	return (
		<ul>
			{list.map((item, index) => {
				return <li key={new Date().toString()}>{item}</li>;
			})
		</div>
	)

	// âŒ
	return (
		<ul>
			{list.map((item, index) => {
				return <li key={uuidv4() onClick={() => handleDelete(uuidv4()}}>{item}</li>;
			})
		</div>
	)

	// âœ…
	return (
		<ul>
			{list.map((item) => {
				return <li key={item.id}>{item}</li>;
			})
		</div>
	)
}
```

### âœï¸Â ë‚´ìš©

- List ì»´í¬ë„ŒíŠ¸ë¥¼ ë§Œë“¤ ë•Œ, key propsë¥¼ ë„£ì–´ì•¼ ì¶”í›„, ë¦¬ë Œë”ë§ì‹œ, DOMì—…ë°ì´íŠ¸ ì—¬ë¶€ íŒë‹¨ ê°€ëŠ¥
- ì´ ë•Œ, keyëŠ” ê³ ìœ í•œ ê°’ì´ì—¬ì•¼ í•¨(ë‹¨, ë™ì ìœ¼ë¡œ ìƒì„±ë˜ëŠ” ì¦‰, ë Œë”ë§ë§ˆë‹¤ ìƒì„±ë˜ëŠ” keyë¥¼ ë„£ìœ¼ë©´ ì•ˆë¨)

### â­ï¸ ìš”ì•½

- List ì»´í¬ë„ŒíŠ¸ë¥¼ ì‘ì„±í•  ë•Œ, ê³ ìœ í•œ keyë¥¼ propsë¡œ ì „ë‹¬í•˜ì.

<br />
<br />

# 4.Â ì•ˆì „í•˜ê²Œ Raw HTML ë‹¤ë£¨ê¸°

---

### ğŸŒˆÂ ê²°ë¡ 

- React ì—ì„œ HTMLê³¼ ì•…ì„± ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‹¬ì„ ìˆ˜ ìˆëŠ” ê²½ìš°ë¥¼ ì•„ë˜ì˜ ë°©ë²•ìœ¼ë¡œ ëŒ€ì²˜í•˜ì.
  - https://github.com/cure53/DOMPurify
  - HTML Sanitizer API
  - eslint-plugin-risxss

### âœï¸Â ë‚´ìš©

ì•ˆì „í•˜ê²Œ Raw HTML ë‹¤ë£¨ê¸°

- ë Œë”ë§ë  ë°ì´í„°
- ìœ ì €ê°€ ë‹¤ì‹œ í•œë²ˆ ì…ë ¥ëª¨ë“œë¡œ ìˆ˜ì •í•  ìˆ˜ ìˆëŠ” ë°ì´í„°
  - ë°”ë¡œ input, textarea
  - https://github.com/cure53/DOMPurify
  - HTML Sanitizer API
    - https://developer.mozilla.org/en-US/docs/Web/API/HTML_Sanitizer_API
  - eslint-plugin-risxss
    - https://www.npmjs.com/package/eslint-plugin-risxss?activeTab=readme

```tsx
const SERVER_DATA = '<p>some raw html</p>'

function DangerouslySetInnerHTMLExample() {
	const post = {

		// XSS(ì•…ì„± ìŠ¤í¬ë¦½íŠ¸ ê³µê²©)
		content: `<img src="" onerror='alert("you were hacked")'>`
	};

	const markup = { __html: SERVER_DATA }

	// DOMPurify ì‚¬ìš©
	const sanitizeContent = { __html: DOMPurify.sanitize(SERVER_DATA) };
	setContentHTML(DOMPurify.sanitize(SERVER_DATA))

	// âŒ í•˜ì§€ë§Œ ì•„ë˜ ê²ƒì´ ë” ìœ„í—˜
	return <div>{markup}</div>;

	return <textarea>{ìˆ˜ì •í•  ìˆ˜ ìˆëŠ” ìœ ì € ì»¨í…ì¸ ë¥¼ ë„£ìœ¼ë ¤ë©´...?}</textarea>

	// âœ… ì•„ë˜ê°€ ê·¸ë‚˜ë§ˆ ê´œì°®ìŒ
	return <textarea>{contentHTML}</textarea>

	// ğŸ¤” ì´ê²ƒë„ ìœ„í—˜
	return <div dangeroulySetInnerHTML={markup} />;


	// í›¨ì”¬ ì•ˆì „í•˜ê²Œ ì‚¬ìš©í•˜ëŠ” ë°©ë²•
	return <div>{sanitizeContent}</div>;
}
```

### â­ï¸ ìš”ì•½

- Reactì—ì„œ HTMLì„ ë‹¤ë£° ë•Œì—ëŠ” ì¡°ì‹¬í•´ì•¼ í•¨

<br />

### ì°¸ê³ 

- [í´ë¦°ì½”ë“œ ë¦¬ì•¡íŠ¸](https://www.udemy.com/course/clean-code-react/)
